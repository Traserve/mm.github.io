---
title: 质因数分解
categories:
  - Algorithm
tags:
  - Algorithm
---

## 题目

输入一个数字，返回它的质因数分解结果。

示例1：

```
输入：30
输出：30 = 2 * 3 * 5
```

示例2：

```
输入：48
输出：48 = 2 * 2 * 2 * 2 * 3
```

## 解法

循环一次与小于自身的质数相除，判断是否可以整除。可以整除获取商继续重新开始整除。

```java
public class Solution {

    public String primeFactorization(int num) {
        List<Integer> res = new ArrayList<>();
        // 保存质数，由于每次都要从 2 开始整除计算，避免重复计算质数
        List<Integer> primeNums = new ArrayList<>();
        primeNums.add(2);
        primeNums.add(3);
        int i = 0;
        int candidate = 3;
        while (num != 1) {
            // 先判断能不能被已获取的质数整除
            for (; i < primeNums.size() && num != 1; i++) {
                int primeNum = primeNums.get(i);
                if (num / primeNum > 0 && num % primeNum == 0) {
                    num = num / primeNum;
                    res.add(primeNum);
                    // 可以整除后，从 2 开始重新进行整除判断
                    i = -1;
                }
            }
            if (num == 1) {
                break;
            }
            // 寻找新的质数
            candidate++;
            while (!checkPrimeNumber(candidate)) {
                candidate++;
            }
            primeNums.add(candidate);
        }
        
        // 拼接结果
        StringBuilder builder = new StringBuilder(" = ");
        for (Integer k : res) {
            builder.append(k).append(" * ");
        }
        builder.delete(builder.length() - 3, builder.length());
        return builder.toString();
    }

    public boolean checkPrimeNumber(int num) {
        // 判断是不是质数
        for (int i = 2; i <= Math.sqrt(num); i++) {
            if (num % i == 0) {
                return false;
            }
        }
        return true;
    }

}
```

